# ═══════════════════════════════════════════════════════════════
# PSYCHO PORTAL — Python Dependencies
# ═══════════════════════════════════════════════════════════════

# ── LLM Providers ────────────────────────────────────────────────
anthropic>=0.40.0            # Claude API (haiku for dev, swap for sonnet/opus)
httpx>=0.27.0                # Async HTTP (Ollama + web search)

# ── Knowledge Graph ──────────────────────────────────────────────
networkx>=3.3                # In-process graph, zero infra, JSON serializable
scipy>=1.11.0                # Required by NetworkX for PageRank computation
pypdf>=4.0.0                 # PDF text extraction (optional, for file ingestion)
pyyaml>=6.0                  # YAML file parsing

# ── Vector / Semantic Memory ─────────────────────────────────────
chromadb>=0.5.0              # Local vector DB, no Docker, no cloud

# ── Embeddings ───────────────────────────────────────────────────
sentence-transformers>=3.0.0 # Local: all-MiniLM-L6-v2 (22MB, CPU-ready)

# ── Persistent Storage ───────────────────────────────────────────
aiosqlite>=0.20.0            # Async SQLite (stdlib SQLite, no extra DB)

# ── CLI Interface ────────────────────────────────────────────────
rich>=13.7.0                 # Terminal UI: panels, markdown, live display
click>=8.1.7                 # Command routing
prompt_toolkit>=3.0.47       # Input with history, autocomplete, keybindings

# ── FastAPI Server ───────────────────────────────────────────────
fastapi>=0.112.0
uvicorn[standard]>=0.30.0
python-multipart>=0.0.9      # For file upload endpoints (UploadFile)

# ── Configuration ─────────────────────────────────────────────────
pydantic>=2.8.0
pydantic-settings>=2.4.0
python-dotenv>=1.0.1

# ── Utilities ────────────────────────────────────────────────────
tenacity>=9.0.0              # Retry with exponential backoff for LLM calls
loguru>=0.7.2                # Structured logging
pendulum>=3.0.0              # Better datetime + timezone handling

# ═══════════════════════════════════════════════════════════════
# OPTIONAL — Local Model Stack (for fully-offline production use)
# Install individually as needed. None required for API-mode dev.
# ═══════════════════════════════════════════════════════════════

# ── Local STT (Speech-to-Text) ───────────────────────────────────
# Uncomment for local Whisper STT (set STT_PROVIDER=whisper_local in .env)
# faster-whisper>=1.0.0      # Recommended: faster, lower memory, ONNX-based
# openai-whisper>=20231117   # Alternative: original OpenAI Whisper

# ── Local TTS (Text-to-Speech) ───────────────────────────────────
# RECOMMENDED: Kokoro — open-source, human-sounding, MIT license
# Set TTS_PROVIDER=local, LOCAL_TTS_BACKEND=kokoro in .env
# First run auto-downloads ~450MB model from HuggingFace (cached permanently)
kokoro>=0.9.4                # Best open-source TTS: hexgrad/Kokoro-82M v1.0
soundfile>=0.12.1            # WAV encoding for Kokoro output
# pyttsx3>=2.90              # Fallback: zero-download system TTS (robotic quality)
# kokoro-onnx>=0.4.0         # Legacy ONNX backend if you prefer lighter deps

# ── Google Calendar Integration ──────────────────────────────────
# Uncomment for Google Calendar sync (set GOOGLE_CALENDAR_CREDENTIALS in .env)
# google-api-python-client>=2.100.0
# google-auth-oauthlib>=1.0.0
# google-auth-httplib2>=0.2.0
